doctype html
html
    head
        title SneakChat by gwanwoodev
        link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.css')
        link(rel='stylesheet', href='css/main.css')
        script(src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js')
        script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js')
        script(src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js')
        script(src='js/time.js')
    body
        #chat-app
            #chat.has-text-centered
                section.hero.is-dark.is-bold
                    .hero-body
                        .container
                            h1.title SneakChat
                            h2 SneakChat Application with Node.js + Socket.io + Pug

                section.section.chat-container
                    .container
                        .columns
                            .box.column.is-8.is-offset-2
                                h2.title ChatBox
                                .chat-messages.has-text-left
                                    ul#chat-messages
                                
                                form
                                    .field.has-addons
                                        p.control
                                            input(type='text', class='input', value='gwanwoodev', id='name')
                                        p.control.is-expanded
                                            input(type='text', class='input', placeholder='Try to say something', id='message' autocomplete="off")
                                        p.control
                                            input(type='submit', class='button is-success', value='Post')
        
        script.
            const socket = io();
            $('form').submit(function() {
                const name = $("#name").val();
                const message = $("#message").val();
                const dateString = getHoursAndMinutes();
                socket.emit('chatter', `[${dateString}] : ${name} : ${message}`);
                return false;
            });
            
            socket.on('chatter', function(message) {
                $('#chat-messages').append($('<li>').text(message));
                $("#message").val("");
                $("#chat-messages").scrollTop($("#chat-messages").height());
            });
            
            